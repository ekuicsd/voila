<app-filter-form></app-filter-form>

<div class="container-fluid d-none d-lg-block">
    <div class="row">
        <div class="col-12 text-center px-3 pt-3 pb-0">
            <h4>Searched Results</h4>
        </div>
    </div>
</div>

<!-- small screens filter sidenav -->
<div class="d-block d-lg-none">
    <div style="overflow-y: auto;" mdbModal #basicModal="mdbModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-full-height modal-left filtermodal" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
                    <h4 class="modal-title w-100" id="myModalLabel">FILTERS</h4>
                </div>
                <div class="modal-body">
                    <!-- accordion -->
                    <p><a (click)="resetAll()" class="float-right text-info mb-2">Reset All</a></p>
                    <br>
                    <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
                        <ngb-panel>
                            <ng-template ngbPanelTitle>
                                <b>PRICE RANGE</b>&nbsp;&nbsp;&nbsp;<span><i class="fas fa-angle-down"></i></span>
                            </ng-template>
                            <ng-template ngbPanelContent>
                                <p>Min price(₹): <input type="number" class="form-control" [(ngModel)]="searchService.extra_filter.minPrice"></p>
                                <p>Max price(₹): <input type="number" class="form-control"  [(ngModel)]="searchService.extra_filter.maxPrice"></p>
                                <ng5-slider [(value)]="searchService.extra_filter.minPrice" (userChange)="changePrice($event)"  [(highValue)]="searchService.extra_filter.maxPrice" [options]="options"></ng5-slider>
                        </ng-template>
                        </ngb-panel>
                        <ngb-panel>
                            <ng-template ngbPanelTitle>
                                <b>RATINGS</b>&nbsp;&nbsp;&nbsp;<span><i class="fas fa-angle-down"></i></span>
                            </ng-template>
                            <ng-template ngbPanelContent>
                                <input type="radio"   value="5" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star1" >&nbsp;
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                            <br>
                            <input type="radio"   value="4" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star1" >&nbsp;
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                            <br>
                            <input type="radio"   value="3" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star1" >&nbsp;
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                            <br>
                            <input type="radio"   value="2" (change)="changeRating($event)"   [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star1" >&nbsp;
                                <i class="fa fa-star star" aria-hidden="true"></i>
                                <i class="fa fa-star star" aria-hidden="true"></i>
                            <br>
                            <input type="radio"   value="1" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star1" >&nbsp;
                                <i class="fa fa-star star" aria-hidden="true"></i>
                            <br>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel>
                            <ng-template ngbPanelTitle>
                                <b>CITIES</b>&nbsp;&nbsp;&nbsp;<span><i class="fas fa-angle-down"></i></span>
                            </ng-template>
                            <ng-template ngbPanelContent>
                                <input type="text" name="citySearch" [(ngModel)]="citySearch" class="form-control mb-2" placeholder="search for city">
                                <mdb-checkbox *ngFor="let city of searchService.cityList | filter:citySearch" [checked]="getCities(city)"
                                [value]="city" (change)="changeCity($event)" [default]="true">{{ city }}</mdb-checkbox>                            
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel>
                            <ng-template ngbPanelTitle>
                                <b>INTERESTS</b>&nbsp;&nbsp;&nbsp;<span><i class="fas fa-angle-down"></i></span>
                            </ng-template>
                            <ng-template ngbPanelContent>
                                <mdb-checkbox *ngFor="let interest of interestList" [checked]="getInterest(interest)" [value]="interest" (change)="changeInterest($event)" [default]="true">{{ interest }}</mdb-checkbox>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel>
                            <ng-template ngbPanelTitle>
                                <b>LANGUAGES</b>&nbsp;&nbsp;&nbsp;<span><i class="fas fa-angle-down"></i></span>
                            </ng-template>
                            <ng-template ngbPanelContent>
                                <input type="text" name="citySearch" [(ngModel)]="langSearch" class="form-control mb-2" placeholder="search for city">
                                <mdb-checkbox *ngFor="let language of languageList | filter:langSearch" [checked]="getLanguage(language)" [value]="language" (change)="changeLangauge($event)" [default]="true">{{ language }}</mdb-checkbox>
                            </ng-template>
                        </ngb-panel>

                    </ngb-accordion>
                    <!-- accordion -->

                </div>
                <div class="modal-footer">
                    <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>Close</button>
                    <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="basicModal.hide()" mdbWavesEffect>Done!</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- small screens filter sidenav ends-->

<div class="row mx-lg-2">
    <div class="col-lg-3 col-xl-2 filters d-none d-lg-block">
        <div><b>FILTERS</b> <a (click)="resetAll()" class="float-right text-info">Reset All</a></div>
        <div class="row my-lg-2">
            <div class="col-lg-12">
                <div class="mb-0"><b>PRICE RANGE</b></div>
                <hr class="px-3 py-0 ml-0 my-0 mb-2" style="width:50%; border-top: 1px solid deeppink;">
                <p>Min price(₹): <input type="number"  class="form-control" [(ngModel)]="searchService.extra_filter.minPrice"></p>
                <p>Max price(₹): <input type="number"  class="form-control"  [(ngModel)]="searchService.extra_filter.maxPrice"></p>
                <ng5-slider [(value)]="searchService.extra_filter.minPrice" (userChange)="changePrice($event)"  [(highValue)]="searchService.extra_filter.maxPrice" [options]="options"></ng5-slider>

            </div>
        </div>
        <div class="row my-lg-2">
            <div class="col-lg-12">
                <div class="mb-0"><b>RATINGS</b></div>
                <hr class="px-3 py-0 ml-0 my-0 mb-2" style="width:50%; border-top: 1px solid deeppink;">

                <!-- Default unchecked -->
                <input type="radio" (change)="changeRating($event)" value="5"  [(ngModel)]="searchService.extra_filter.rating" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star" >&nbsp;
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                <br>
                <input type="radio" (change)="changeRating($event)"  value="4" [(ngModel)]="searchService.extra_filter.rating" (change)="changeRating($event)"   [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star" >&nbsp;
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                <br>
                <input type="radio" (change)="changeRating($event)"  value="3"  [(ngModel)]="searchService.extra_filter.rating" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star" >&nbsp;
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                <br>
                <input type="radio" (change)="changeRating($event)"  value="2"  [(ngModel)]="searchService.extra_filter.rating" (change)="changeRating($event)" [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star" >&nbsp;
                    <i class="fa fa-star star" aria-hidden="true"></i>
                    <i class="fa fa-star star" aria-hidden="true"></i>
                <br>
                <input type="radio" (change)="changeRating($event)"  value="1"  [(ngModel)]="searchService.extra_filter.rating" (change)="changeRating($event)"  [(ngModel)]="searchService.extra_filter.rating" class="defaultGroupExample2" name="star" >&nbsp;
                    <i class="fa fa-star star" aria-hidden="true"></i>
                <br>
            </div>
        </div>
        <div class="row my-lg-2">
            <div class="col-lg-12">
                <!-- Default unchecked -->
                <div class="mb-0"><b>CITIES</b></div>
                <hr class="px-3 py-0 ml-0 my-0 mb-2" style="width:50%; border-top: 1px solid deeppink;">
                <input type="text" name="citySearch" [(ngModel)]="citySearch" class="form-control mb-2" placeholder="search for city">
                <div *ngIf="cityMore">
                    <mdb-checkbox *ngFor="let city of searchService.cityList | filter:citySearch | slice:0:15" [checked]="getCities(city)"
                    [value]="city" (change)="changeCity($event)" [default]="true">{{ city }}</mdb-checkbox>
                    <p class="my-2 text-info cursor" *ngIf="searchService.cityList.length > 15" (click)="moreLessCity()">More+</p>
                </div>
                <div *ngIf="!cityMore">
                    <mdb-checkbox *ngFor="let city of searchService.cityList | filter:citySearch" [checked]="getCities(city)"
                    [value]="city" (change)="changeCity($event)" [default]="true">{{ city }}</mdb-checkbox>
                    <p class="my-2 text-info cursor" *ngIf="searchService.cityList.length < 15"  (click)="moreLessCity()">Less-</p>
                </div>

            </div>
        </div>
        
        <div class="row my-lg-2">
            <div class="col-lg-12">
                <!-- Default unchecked -->
                <div class="mb-0"><b>INTERESTS</b></div>
                <hr class="px-3 py-0 ml-0 my-0 mb-2" style="width:50%; border-top: 1px solid deeppink;">
                <div>
                    <mdb-checkbox *ngFor="let interest of interestList" [checked]="getInterest(interest)" [value]="interest" (change)="changeInterest($event)" [default]="true">{{ interest }}</mdb-checkbox>
                </div>

            </div>
        </div>
        <div class="row my-lg-2">
            <div class="col-lg-12">
                <!-- Default unchecked -->
                <div class="mb-0"><b>LANGUAGES</b></div>
                <hr class="px-3 py-0 ml-0 my-0 mb-2" style="width:50%; border-top: 1px solid deeppink;">
                <input type="text" name="langSearch" [(ngModel)]="langSearch" class="form-control mb-2" placeholder="search for language">
                <div *ngIf="!langMore" >
                    <mdb-checkbox *ngFor="let language of languageList | filter:langSearch" [checked]="getLanguage(language)" [value]="language" (change)="changeLangauge($event)" [default]="true">{{ language }}</mdb-checkbox>
                    <p  class="my-2 text-info cursor" *ngIf="languageList.length <= 15" (click)="moreLess()">Less-</p>
                </div>
                <div *ngIf="langMore" >
                    <mdb-checkbox *ngFor="let language of languageList | filter:langSearch | slice:0:15" [checked]="getLanguage(language)" [value]="language" (change)="changeLangauge($event)" [default]="true">{{ language }}</mdb-checkbox>
                    <p class="my-2 text-info cursor" *ngIf="languageList.length > 15" (click)="moreLess()">More+</p>
                </div>
            </div>
        </div>
    </div>


    <div class="col-12 col-lg-9 col-xl-8">

        <button type="button" mdbBtn color="primary" class="d-block d-lg-none relative waves-light px-3 py-2 float-right" (click)="basicModal.show()" mdbWavesEffect>FILTERS <mdb-icon fas icon="filter"></mdb-icon></button>

        <div class="text-center mt-2 mb-4 mx-auto">
            <!-- <h2>Elastic Tabs</h2> -->

            <nav class="tabs">
                <div class="selector"></div>
                <a [routerLink]="['guidesList']" routerLinkActive="active" class="active">
                    <i class="im im-user-male"></i>
                    Guides
                </a>
                <a [routerLink]="['dealsList']" routerLinkActive="active" >
                    <i class="im im-user-male"></i>
                    Deals
                </a>
            </nav>
        </div>

        <router-outlet></router-outlet>
        
    </div>
</div>
